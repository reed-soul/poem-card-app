# è¯—è¯æ—¥å† - é¡¹ç›®æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å®‰è£…æŒ‡å—](#å®‰è£…æŒ‡å—)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [æ„å»ºæ‰“åŒ…](#æ„å»ºæ‰“åŒ…)
- [API å‚è€ƒ](#api-å‚è€ƒ)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## é¡¹ç›®æ¦‚è¿°

**è¯—è¯æ—¥å†** æ˜¯ä¸€æ¬¾è·¨ç«¯æ¡Œé¢åº”ç”¨ï¼Œæ¯å¤©ä¸ºç”¨æˆ·æ¨èä¸€é¦–å¤è¯—è¯ï¼Œç»“åˆ 24 èŠ‚æ°”å’Œç”¨æˆ·åå¥½ï¼Œæä¾›æ²‰æµ¸å¼çš„è¯—è¯é˜…è¯»ä½“éªŒã€‚

### æ ¸å¿ƒåŠŸèƒ½

- âœ… 733é¦–ç²¾é€‰å¤è¯—è¯ï¼ˆå”è¯—ã€å®‹è¯ã€å®‹è¯—ã€äº”ä»£è¯ï¼‰
- âœ… æ™ºè°± AI æ™ºèƒ½ç”Ÿæˆå¤è¯—è¯ï¼ˆå¯é…ç½®é£æ ¼ã€å­£èŠ‚ã€ä¸»é¢˜ï¼‰
- âœ… 24 èŠ‚æ°”ç®—æ³•ä¸æ¨è
- âœ… å®Œå…¨è‡ªå®šä¹‰çš„ç”¨æˆ·è®¾ç½®
- âœ… ä¸­å›½é£ç²¾ç¾ UI è®¾è®¡
- âœ… è·¨ç«¯æ”¯æŒï¼ˆmacOSã€Windowsï¼‰

---

## åŠŸèƒ½ç‰¹æ€§

### 1. è¯—è¯æ¨è

**æ¨èç®—æ³•ï¼š**
```
æ—¥æœŸç§å­ + èŠ‚æ°”å…³é”®è¯ + ç”¨æˆ·åå¥½ = æ¨èçš„è¯—è¯
```

**æ¨èå› ç´ ï¼š**
- ğŸ“… æ—¥æœŸï¼šç¡®ä¿åŒä¸€å¤©æ˜¾ç¤ºç›¸åŒçš„è¯—è¯
- ğŸŒ¤ï¸ èŠ‚æ°”ï¼šæ ¹æ®å½“å‰èŠ‚æ°”æ¨èç›¸å…³è¯—è¯
- ğŸ‘¤ï¸ ç”¨æˆ·åå¥½ï¼šå–œæ¬¢çš„è¯—äººã€å­£èŠ‚ã€ä¸»é¢˜
- ğŸ² éšæœºæ€§ï¼šåŸºäºæ—¥æœŸç§å­çš„ä¼ªéšæœº

### 2. AI ç”Ÿæˆ

**æ™ºè°± AI é›†æˆï¼š**
- ğŸ¯ æ¨¡å‹ï¼šGLM-4
- ğŸ”§ å¯é…ç½®å‚æ•°ï¼š
  - é£æ ¼ï¼šæ¸…æ–°ã€è±ªæ”¾ã€å©‰çº¦ã€æ·±æ²‰ã€çµåŠ¨
  - å­£èŠ‚ï¼šæ˜¥ã€å¤ã€ç§‹ã€å†¬ï¼ˆå¯é€‰ï¼‰
  - ä¸»é¢˜ï¼šå±±æ°´ã€ç”°å›­ã€è¾¹å¡ã€æ€ä¹¡ç­‰ï¼ˆå¯é€‰ï¼‰
  - é•¿åº¦ï¼šå››å¥ç»å¥ã€å…«å¥å¾‹è¯—
- ğŸ·ï¸ è‡ªåŠ¨æ‰“æ ‡ç­¾ï¼šé£æ ¼ã€å­£èŠ‚ã€ä¸»é¢˜ã€AIç”Ÿæˆ

**æ™ºèƒ½å›é€€ï¼š**
```
AI ç”Ÿæˆ
    â†“ (å¤±è´¥)
æœ¬åœ°è¯—è¯åº“ (733é¦–)
```

### 3. ç”¨æˆ·è®¾ç½®

**åå¥½è®¾ç½®ï¼š**
- å–œæ¬¢çš„è¯—äººï¼ˆ15ä½åå®¶å¯é€‰ï¼‰
- å–œæ¬¢çš„å­£èŠ‚ï¼ˆæ˜¥å¤ç§‹å†¬ï¼‰
- å–œæ¬¢çš„ä¸»é¢˜ï¼ˆ10ç§ä¸»é¢˜å¯é€‰ï¼‰

**æ˜¾ç¤ºè®¾ç½®ï¼š**
- æ¯å¤©æ˜¾ç¤ºçš„è¯—è¯æ•°é‡ï¼ˆ1-10é¦–ï¼‰
- æ˜¾ç¤º/éšè—èŠ‚æ°”ä¿¡æ¯
- æ˜¾ç¤º/éšè—æœä»£
- æ˜¾ç¤º/éšè—ä½œè€…
- è¯—è¯æ¥æºåˆ‡æ¢ï¼ˆæœ¬åœ° vs AIï¼‰

**èƒŒæ™¯è®¾ç½®ï¼š**
- å›¾ç‰‡æ¥æºï¼ˆåœ¨çº¿/æœ¬åœ°ï¼‰
- èƒŒæ™¯æ¨¡ç³Šåº¦ï¼ˆ0-100%ï¼‰
- èƒŒæ™¯é€æ˜åº¦ï¼ˆ0-100%ï¼‰

**æ•°æ®ç®¡ç†ï¼š**
- å¯¼å‡ºè®¾ç½®ï¼ˆJSON æ–‡ä»¶ï¼‰
- å¯¼å…¥è®¾ç½®ï¼ˆä» JSON æ–‡ä»¶ï¼‰
- é‡ç½®ä¸ºé»˜è®¤å€¼

### 4. ä¸­å›½é£ UI

**è®¾è®¡å…ƒç´ ï¼š**
- ğŸ¨ æ¯›ç»ç’ƒæ•ˆæœï¼ˆbackdrop-blurï¼‰
- ğŸ”´ ä¸­å›½çº¢è£…é¥°è§’
- ğŸ–‹ï¸ å°ç« æ ·å¼ç»„ä»¶
- ğŸ“œ è¯—è¯å¡ç‰‡å¸ƒå±€
- ğŸŒ¸ å­£èŠ‚èƒŒæ™¯å›¾ç‰‡ï¼ˆè‡ªåŠ¨åˆ‡æ¢ï¼‰

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 19** + **TypeScript**
- **Vite** (å¿«é€Ÿå¼€å‘å·¥å…·é“¾ï¼‰
- **Tailwind CSS** (åŸå­åŒ– CSS)
- **Framer Motion** (åŠ¨ç”»åº“)
- **date-fns** (æ—¥æœŸå¤„ç†)

### æ¡Œé¢åº”ç”¨
- **Electron 34** (è·¨ç«¯æ¡†æ¶)
- **Electron Vite** (Electron + Vite é›†æˆ)
- **Electron Builder** (æ‰“åŒ…å·¥å…·)

### AI é›†æˆ
- **æ™ºè°± AI GLM-4** (å¤§è¯­è¨€æ¨¡å‹)
- **Chat Completions API** (å¯¹è¯æ¥å£)
- **Fetch API** (ç½‘ç»œè¯·æ±‚)

---

## é¡¹ç›®ç»“æ„

```
poem-calendar/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/                 # Electron ä¸»è¿›ç¨‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ preload/              # é¢„åŠ è½½è„šæœ¬
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ renderer/             # æ¸²æŸ“è¿›ç¨‹ï¼ˆå‰ç«¯ï¼‰
â”‚       â”œâ”€â”€ App.tsx            # ä¸»åº”ç”¨ç»„ä»¶
â”‚       â”œâ”€â”€ main.tsx           # å…¥å£æ–‡ä»¶
â”‚       â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ PoemCard.tsx
â”‚       â”‚   â”œâ”€â”€ SettingsPanel.tsx
â”‚       â”‚   â””â”€â”€ WindowControls.tsx
â”‚       â”œâ”€â”€ data/               # æ•°æ®æ–‡ä»¶
â”‚       â”‚   â””â”€â”€ poemsç²¾é€‰.json  # è¯—è¯åº“
â”‚       â”œâ”€â”€ services/           # æœåŠ¡å±‚
â”‚       â”‚   â””â”€â”€ zhipuAI.ts     # æ™ºè°± AI æœåŠ¡
â”‚       â”œâ”€â”€ types/              # ç±»å‹å®šä¹‰
â”‚       â”‚   â””â”€â”€ settings.ts     # è®¾ç½®ç±»å‹
â”‚       â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚           â””â”€â”€ solarTerm.ts   # 24èŠ‚æ°”ç®—æ³•
â”œâ”€â”€ out/                      # æ„å»ºè¾“å‡º
â”‚   â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ preload/
â”‚   â””â”€â”€ renderer/
â”œâ”€â”€ release/                  # æ‰“åŒ…è¾“å‡º
â”‚   â””â”€â”€ ...
â”œâ”€â”€ docs/                     # æ–‡æ¡£ç›®å½•
â”‚   â””â”€â”€ ...
â”œâ”€â”€ package.json              # é¡¹ç›®é…ç½®
â”œâ”€â”€ electron.vite.config.ts    # Electron Vite é…ç½®
â”œâ”€â”€ electron-builder.json      # Electron Builder é…ç½®
â”œâ”€â”€ tsconfig.json             # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.js        # Tailwind CSS é…ç½®
â””â”€â”€ vite.config.ts             # Vite é…ç½®
```

---

## å®‰è£…æŒ‡å—

### å¼€å‘ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 18.0.0
- **npm**: >= 9.0.0
- **git**: >= 2.0.0

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/reed-soul/poem-card-app.git
   cd poem-card-app/poem-calendar
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```

4. **æ‰“å¼€åº”ç”¨**
   - åº”ç”¨ä¼šè‡ªåŠ¨æ‰“å¼€
   - è®¿é—® http://localhost:5173

---

## å¼€å‘æŒ‡å—

### å¯åŠ¨å¼€å‘

```bash
# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# æ„å»ºé¢„è§ˆ
npm run preview

# ç”Ÿäº§æ„å»º
npm run build
```

### å¼€å‘è„šæœ¬

```json
{
  "scripts": {
    "dev": "electron-vite dev",
    "build": "electron-vite build && electron-builder",
    "preview": "electron-vite preview"
  }
}
```

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š

```env
# æ™ºè°± AI API Keyï¼ˆå¯é€‰ï¼‰
VITE_ZHIPU_AI_API_KEY=your_api_key_here

# å…¶ä»–ç¯å¢ƒå˜é‡
# VITE_API_BASE_URL=https://api.example.com
```

---

## æ„å»ºæ‰“åŒ…

### å¼€å‘æ„å»º

```bash
npm run dev
```

### ç”Ÿäº§æ„å»º

```bash
npm run build
```

### æ‰“åŒ…è¾“å‡º

```bash
# macOS
out/release/è¯—è¯æ—¥å†-0.1.0-arm64.dmg

# Windows (éœ€è¦é…ç½®)
out/release/è¯—è¯æ—¥å† Setup 0.1.0.exe
```

---

## API å‚è€ƒ

### æ™ºè°± AI æœåŠ¡

**å¯¼å…¥ï¼š**
```typescript
import { generatePoem, testApiKey, getApiKey } from './services/zhipuAI';
```

**ç”Ÿæˆè¯—è¯ï¼š**
```typescript
const poem = await generatePoem({
  style: 'æ¸…æ–°',
  season: 'æ˜¥å¤©',
  theme: 'å±±æ°´',
  length: 4,
});

// è¿”å›ï¼š
{
  title: 'æ˜¥æ—¥å±±æ°´',
  author: 'AIè¯—äºº',
  dynasty: 'ç°ä»£',
  content: ['æ˜¥å±±å¦‚é»›è‰å¦‚çƒŸ', 'ç»¿æ°´æ½ºæ½ºç»•å®¢èˆ¹', ...],
  ai_generated: true,
  tags: ['æ¸…æ–°', 'æ˜¥å¤©', 'å±±æ°´', 'AIç”Ÿæˆ']
}
```

**æµ‹è¯• API Keyï¼š**
```typescript
const result = await testApiKey(apiKey);

// è¿”å›ï¼š
{
  success: true,
  message: 'API Key æœ‰æ•ˆï¼Œæ™ºè°± AI è¿æ¥æˆåŠŸï¼',
  samplePoem: { ... }
}
```

### 24èŠ‚æ°”æœåŠ¡

**å¯¼å…¥ï¼š**
```typescript
import { getNearestSolarTerm, getAllSolarTerms } from './utils/solarTerm';
```

**è·å–æœ€è¿‘çš„èŠ‚æ°”ï¼š**
```typescript
const term = getNearestSolarTerm(new Date());

// è¿”å›ï¼š
{
  name: 'ç«‹æ˜¥',
  date: new Date('2024-02-04'),
  keywords: ['æ˜¥å¤©', 'å¼€å§‹', 'æ¸©æš–', 'ç”Ÿæœº'],
  isToday: false
}
```

**è·å–æ‰€æœ‰èŠ‚æ°”ï¼š**
```typescript
const terms = getAllSolarTerms(2024);

// è¿”å› 24 ä¸ªèŠ‚æ°”çš„æ•°ç»„
```

---

## å¸¸è§é—®é¢˜

### 1. æ„å»ºå¤±è´¥

**é—®é¢˜ï¼š** `npm run build` æŠ¥é”™

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ¸…ç†ç¼“å­˜å’Œé‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install

# æ¸…ç†æ„å»ºè¾“å‡º
rm -rf out dist release

# é‡æ–°æ„å»º
npm run build
```

### 2. æ™ºè°± AI API è°ƒç”¨å¤±è´¥

**é—®é¢˜ï¼š** API Key æ— æ•ˆæˆ–ç½‘ç»œé”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æ£€æŸ¥æ™ºè°± AI æœåŠ¡çŠ¶æ€
- å°è¯•é‡æ–°ç”Ÿæˆè¯—è¯

### 3. åº”ç”¨æ‰“åŒ…å¤±è´¥

**é—®é¢˜ï¼š** Electron Builder æŠ¥é”™

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥é…ç½®
cat electron-builder.json

# å°è¯•ä¸åŒçš„æ‰“åŒ…å‘½ä»¤
npm run build -- --mac --universal
```

### 4. å¼€å‘æœåŠ¡å™¨æ— æ³•å¯åŠ¨

**é—®é¢˜ï¼š** `npm run dev` æŠ¥é”™

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ¸…ç†ç«¯å£å ç”¨
lsof -ti:5173 | xargs kill -9

# é‡æ–°å¯åŠ¨
npm run dev
```

---

## è®¸å¯è¯

MIT

---

## è”ç³»æ–¹å¼

- **GitHub**: https://github.com/reed-soul/poem-card-app
- **Issues**: https://github.com/reed-soul/poem-card-app/issues

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·å…ˆé˜…è¯»è´¡çŒ®æŒ‡å—ã€‚

### å¼€å‘æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

---

## æ›´æ–°æ—¥å¿—

### 0.1.0 (2024-02-13)

**æ–°å¢ï¼š**
- âœ… 733é¦–ç²¾é€‰å¤è¯—è¯
- âœ… æ™ºè°± AI æ™ºèƒ½ç”Ÿæˆ
- âœ… 24èŠ‚æ°”æ¨èç®—æ³•
- âœ… å®Œå…¨ç”¨æˆ·è®¾ç½®ç•Œé¢
- âœ… ä¸­å›½é£ UI è®¾è®¡
- âœ… macOS DMG æ‰“åŒ…

**ä¼˜åŒ–ï¼š**
- âœ… æ™ºèƒ½æ¨èç®—æ³•ä¼˜åŒ–
- âœ… ç”¨æˆ·ä½“éªŒæ”¹è¿›
- âœ… é”™è¯¯å¤„ç†å’Œå›é€€æœºåˆ¶

**ä¿®å¤ï¼š**
- âœ… æ‰“åŒ…é…ç½®ä¿®å¤
- âœ… ä¾èµ–ç‰ˆæœ¬æ›´æ–°

---

## æœªæ¥è®¡åˆ’

- [ ] Windows æ‰“åŒ…
- [ ] åº”ç”¨å›¾æ ‡è®¾è®¡
- [ ] ç”¨æˆ·æ”¶è—åŠŸèƒ½
- [ ] è¯—è¯æœç´¢åŠŸèƒ½
- [ ] è¯—è¯åˆ†äº«åŠŸèƒ½
- [ ] è¯—è¯ç¿»è¯‘åŠŸèƒ½
- [ ] è¯—è¯èƒŒè¯µæ¨¡å¼
- [ ] å¤©æ°” API é›†æˆ
- [ ] æ›´å¤š AI æ¨¡å‹æ”¯æŒ
- [ ] ç¦»çº¿æ¨¡å¼
- [ ] ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½

---

## è‡´è°¢

- è¯—è¯æ•°æ®æ¥æºï¼šchinese-poetry/chinese-poetry
- UI è®¾è®¡çµæ„Ÿï¼šAnthropic Frontend Design
- æ™ºè°± AIï¼šhttps://open.bigmodel.cn/
- Electron æ¡†æ¶ï¼šhttps://www.electronjs.org/
